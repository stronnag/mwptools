
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Mission Planner, Ground Control Station, Log Replay">
      
      
        <meta name="author" content="Jonathan Hudson">
      
      
      
        <link rel="prev" href="../mwp-los-tool/">
      
      
        <link rel="next" href="../mwp-Configuration/">
      
      
      <link rel="icon" href="../images/mwp_icon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.19">
    
    
      
        <title>"Serial" device support - mwptools</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/extra.css">
    
      <link rel="stylesheet" href="../assets/pdf.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#serial-device-support" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="mwptools" class="md-header__button md-logo" aria-label="mwptools" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            mwptools
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              "Serial" device support
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/stronnag/mwptools/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    Github
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="mwptools" class="md-nav__button md-logo" aria-label="mwptools" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    mwptools
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/stronnag/mwptools/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    Github
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Home
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
      <br>
      <small>A mission planner for the rest of us</small>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mwp_support/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Help and Support
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mwp-Gtk4-migration-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Migration Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../running/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Running mwp
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    User interface
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dock/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Side Bar Concepts and Usage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mission-editor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mission Editor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gcs-features/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ground Control Station Features
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../replay-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Replay Tools
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../misc-ui-elements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Miscellaneous UI Elements
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mwp-terrain-avoidance-quick-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Terrain Avoidance Quick Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Mission-Elevation-Plot-and-Terrain-Analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mission Elevations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mwp-los-tool/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Line of Sight (LOS) Tool
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    "Serial" device support
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    "Serial" device support
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#serial-devices" class="md-nav__link">
    <span class="md-ellipsis">
      Serial devices
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bluetooth" class="md-nav__link">
    <span class="md-ellipsis">
      Bluetooth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Bluetooth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#further-bluetooth-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Further Bluetooth considerations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#discovery-and-filtering" class="md-nav__link">
    <span class="md-ellipsis">
      Discovery and filtering
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Discovery and filtering">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#experimental-discover-and-filter-action" class="md-nav__link">
    <span class="md-ellipsis">
      Experimental Discover and Filter action
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mwp-ble-bridge" class="md-nav__link">
    <span class="md-ellipsis">
      mwp-ble-bridge
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ble-caveats" class="md-nav__link">
    <span class="md-ellipsis">
      BLE Caveats
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#serial-permissions" class="md-nav__link">
    <span class="md-ellipsis">
      Serial permissions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ip-protocols-udp-and-tcp" class="md-nav__link">
    <span class="md-ellipsis">
      IP protocols (UDP and TCP)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#special-cases" class="md-nav__link">
    <span class="md-ellipsis">
      Special Cases
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Special Cases">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#udp-devices-required-defined-local-and-remote-port-numbers" class="md-nav__link">
    <span class="md-ellipsis">
      UDP devices required defined local and remote port numbers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uri-conventions" class="md-nav__link">
    <span class="md-ellipsis">
      URI Conventions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="URI Conventions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mqtt-bulletgcss" class="md-nav__link">
    <span class="md-ellipsis">
      MQTT / BulletGCSS
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#multi-protocol-selection" class="md-nav__link">
    <span class="md-ellipsis">
      Multi Protocol selection
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Multi Protocol selection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#notes" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auto-detection" class="md-nav__link">
    <span class="md-ellipsis">
      Auto-detection
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#telemetry-forwarding" class="md-nav__link">
    <span class="md-ellipsis">
      Telemetry Forwarding
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Telemetry Forwarding">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#forwarding-same-type-messages-msp-ltm-mavlink" class="md-nav__link">
    <span class="md-ellipsis">
      Forwarding "same type" messages (MSP, LTM, MAVLink)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#translated-capability-messages" class="md-nav__link">
    <span class="md-ellipsis">
      Translated "capability" messages
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mwp-Configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    mwp Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mwp-safehomes-editor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Safehome and Auto-land
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mwp-geozones/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    mwp and Geozones
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mwp-Radar-View/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Radar View
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mwp-telemetry-tracker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Telemetry Tracking
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mwp-area-planner/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mwp Survey Planner
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mwp_video_player/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Playing Video in mwp
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mwp-text-to-speech/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mwp text to speech
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Fly-By-Home-waypoints-%28inav-4-new-feature%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Fly By Home Waypoints
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Black-Ops/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Anonymous Maps
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mwp-follow-me/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    mwp Follow Me
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Build and Install / OS Specific
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Build and Install / OS Specific
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Building-with-meson-and-ninja/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Build / install mwp (Generic)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mwp-macos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MacOS (Homebrew)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mwp-windows-msys/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Windows (MSys2)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Miscellaneous
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Miscellaneous
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mwpset/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    mwp Settings Editor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mwpsettings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    mwp Gsettings
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mwp-Power-and-screen-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Power and screen management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mwp-hid-device-support/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    mwp HID Device Support
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mwp-assist-now/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UBlox AssistNow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../inav-4.0-multi-missions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    INAV 4.0 Multi-Mission Support
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mqtt---bulletgcss-telemetry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    BulletGCSS Telemetry
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Support-for-inav-3.0-WP-features/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    mwp and INAV 3.0 Mission Updates
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Replaying-Ardupilot-logs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ardupilot log replay
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mwp-Dbus-API/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DBus API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mwp_support/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Help and Support
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mwp-miscellaneous-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    mwp miscellaneous tools
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mwp-telemetry-usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    mwp telemtry and URI specifics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../licence-misc-info/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Licence and Alternative Tools
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#serial-devices" class="md-nav__link">
    <span class="md-ellipsis">
      Serial devices
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bluetooth" class="md-nav__link">
    <span class="md-ellipsis">
      Bluetooth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Bluetooth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#further-bluetooth-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Further Bluetooth considerations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#discovery-and-filtering" class="md-nav__link">
    <span class="md-ellipsis">
      Discovery and filtering
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Discovery and filtering">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#experimental-discover-and-filter-action" class="md-nav__link">
    <span class="md-ellipsis">
      Experimental Discover and Filter action
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mwp-ble-bridge" class="md-nav__link">
    <span class="md-ellipsis">
      mwp-ble-bridge
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ble-caveats" class="md-nav__link">
    <span class="md-ellipsis">
      BLE Caveats
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#serial-permissions" class="md-nav__link">
    <span class="md-ellipsis">
      Serial permissions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ip-protocols-udp-and-tcp" class="md-nav__link">
    <span class="md-ellipsis">
      IP protocols (UDP and TCP)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#special-cases" class="md-nav__link">
    <span class="md-ellipsis">
      Special Cases
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Special Cases">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#udp-devices-required-defined-local-and-remote-port-numbers" class="md-nav__link">
    <span class="md-ellipsis">
      UDP devices required defined local and remote port numbers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uri-conventions" class="md-nav__link">
    <span class="md-ellipsis">
      URI Conventions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="URI Conventions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mqtt-bulletgcss" class="md-nav__link">
    <span class="md-ellipsis">
      MQTT / BulletGCSS
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#multi-protocol-selection" class="md-nav__link">
    <span class="md-ellipsis">
      Multi Protocol selection
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Multi Protocol selection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#notes" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auto-detection" class="md-nav__link">
    <span class="md-ellipsis">
      Auto-detection
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#telemetry-forwarding" class="md-nav__link">
    <span class="md-ellipsis">
      Telemetry Forwarding
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Telemetry Forwarding">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#forwarding-same-type-messages-msp-ltm-mavlink" class="md-nav__link">
    <span class="md-ellipsis">
      Forwarding "same type" messages (MSP, LTM, MAVLink)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#translated-capability-messages" class="md-nav__link">
    <span class="md-ellipsis">
      Translated "capability" messages
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="serial-device-support">"Serial" device support<a class="headerlink" href="#serial-device-support" title="Permanent link">#</a></h1>
<p>mwp supports a number of different data transports for "serial" protocols:</p>
<ul>
<li>Wired serial devices (USB TTL (VCP) etc.)</li>
<li>Bluetooth</li>
<li>IP (UDP and TCP)</li>
<li>"Special" (e.g. BulletGCSS via the MQTT protocol).</li>
</ul>
<p>Each of these requires a specific device name and <em>may</em> require a protocol selection.</p>
<h2 id="serial-devices">Serial devices<a class="headerlink" href="#serial-devices" title="Permanent link">#</a></h2>
<p>Serial devices are defined by the operating system device node name and optionally include an embedded baud rate (<code>@baudrate</code>), for example:</p>
<pre><code># Linux, USB seral
/dev/ttyACM0
# Linux, USB serial with baud rate
/dev/ttyUSB0@57600
# Linux, RFCOM Bluetooth
/dev/rfcomm1

# FreeBSD
/dev/cuaU0

# Windows
COM7
COM17@38400
</code></pre>
<h2 id="bluetooth">Bluetooth<a class="headerlink" href="#bluetooth" title="Permanent link">#</a></h2>
<p>Bluetooth may be specified by either an <code>rfcomm</code> device node (<code>/dev/rfcommX</code> on Linux, <code>/dev/ttypX</code> pseudo-terminal abstraction on FreeBSD, <code>COM</code> device on Windows and <code>/dev/cu.bluetooth*</code> on MacOS) or by the device address (<code>BD_ADDR</code>, Linux and FreeBSD only):</p>
<pre><code># BT RFCOMM device node (Linux)
/dev/rfcomm1
/dev/rfcomm1@57600
# RFCOMM / SPP (FreeBSD)
/dev/ttyp6
# BT device address (note here baud rate is immaterial)
35:53:17:04:07:27
</code></pre>
<ul>
<li>On Linux, both legacy Bluetooth (RFCOMM/SPP) and Bluetooth Low Energy (BLE) are supported. BLE devices do not implement RFCOMM and must be accessed by address.</li>
<li>On FreeBSD, MacOS and Windows only legacy (RFCOMM/SPP) Bluetooth is supported.</li>
</ul>
<h3 id="further-bluetooth-considerations">Further Bluetooth considerations<a class="headerlink" href="#further-bluetooth-considerations" title="Permanent link">#</a></h3>
<ul>
<li>
<p>For legacy devices, it is recommended that these are paired before use; this will greatly speed up the device recognition process.</p>
</li>
<li>
<p>For BLE, in general it is not possible to pair devices; it is recommended that you use operating system tools (e.g. <code>bluetoothctl</code> to discover the device and find all the BLE/Gatt characteristics (e.g. by <code>connect</code> in <code>bluetoothctl</code>). Otherwise you may end up in a "Morton's fork" situation where in order recognise the device as BLE, mwp needs to connect to it and in order to use the BLE connect functions, mwp needs to know it's a BLE device.</p>
</li>
</ul>
<p>A sequence of <code>bluetoothctl</code> commands (where <code>aa:bb:cc:dd:ee:ff</code> represents a new device address); such as the following will help :</p>
<pre><code>$ bluetoothctl
power on
default-agent
scan on
## ... devices are discovered
info aa:bb:cc:dd:ee:ff
## note this will probably only show up a little data and 0 or 1 UUIDs (we need more)
connect aa:bb:cc:dd:ee:ff
## for a BLE device, this will spew out a load of "characteristics" and multiple UUIDS
trust aa:bb:cc:dd:ee:ff
disconnect aa:bb:cc:dd:ee:ff
quit
</code></pre>
<p>Now the device should be discovered in mwp and should connect.</p>
<p>The following BLE chip-sets are supported:</p>
<ul>
<li>CC2541</li>
<li>Nordic Semi NRF</li>
<li>SpeedyBee Type 1</li>
<li>SpeedyBee Type 2</li>
</ul>
<p>The first and last items having been tested by the author.</p>
<h3 id="discovery-and-filtering">Discovery and filtering<a class="headerlink" href="#discovery-and-filtering" title="Permanent link">#</a></h3>
<p>By default, mwp relies on the bonded information about bluetooth devices known to the operating system. This has (at least) two consequences:</p>
<ul>
<li>Unknown devices are not detected</li>
<li>All known (serial) devices are listed, including offline / un-powered devices.</li>
</ul>
<h4 id="experimental-discover-and-filter-action">Experimental Discover and Filter action<a class="headerlink" href="#experimental-discover-and-filter-action" title="Permanent link">#</a></h4>
<p>There is a somewhat experimental option that includes scanning and RSSI filtering such that:</p>
<ul>
<li>A Bluetooth discovery scan is initiated (and terminated on quit).</li>
<li>Only on-line devices with non-zero RSSI are listed.</li>
</ul>
<p>The downside being that is RSSI if never discovered / advertised by the OS, then the device is not listed.</p>
<p>This mode is enabled by a setting:</p>
<pre><code>$ gsettings set org.stronnag.mwp  bluez-disco true
</code></pre>
<p>This is persistent, in order to revert to the default, non-scanning no RSSI filter:</p>
<pre><code>$ gsettings set org.stronnag.mwp  bluez-disco false
</code></pre>
<h3 id="mwp-ble-bridge">mwp-ble-bridge<a class="headerlink" href="#mwp-ble-bridge" title="Permanent link">#</a></h3>
<p>In order to use BLE serial devices with tools (i.e. other than mwp)  that do not implement the BLE protocol, mwp provides a <code>mwp-ble-bridge</code> tool that uses a pseudo-terminal, TCP server or UDP server to facilitate BLE connectivity for other tools that expect a device node. See the <code>README.md</code> in <code>src/mwp-ble-bridge</code>.</p>
<p>Using a bridge with TCP allows connectivity with the INAV Configurator versions that appear not to understand BLE on Linux. Note that INAV Configurator 8.0 will "sort of" support BLE on Linux.</p>
<h3 id="ble-caveats">BLE Caveats<a class="headerlink" href="#ble-caveats" title="Permanent link">#</a></h3>
<p>BLE not particularly useful for anything other than low power. The transfer rates are extremely slow and whether the device can be used at all depends on its MTU (maximum transmission unit). For some devices this is unacceptable low for use with mwp / INAV.</p>
<ul>
<li>The SpeedyBee version 2 BLE device has an MTU of 517 bytes; it works perfectly.</li>
<li>CC2541 based devices have an MTU of 23 bytes; this is less useful for our requirement.</li>
</ul>
<p>mwp will never send more than 20 bytes in a single write to a BLE device; chunking up messages as required. The FC cannot do this, so large messages will result in massive data overrun (for example MSP_BOX_NAMES will typically return more than 400 bytes).</p>
<p>mwp will log the detected MTU when it connects a BLE device.</p>
<pre><code>13:05:07.547489 BLE chipset CC2541, mtu 23 (unlikely to end well)
...
13:07:36.946329 BLE chipset SpeedyBee Type 2, mtu 517
</code></pre>
<h3 id="serial-permissions">Serial permissions<a class="headerlink" href="#serial-permissions" title="Permanent link">#</a></h3>
<p>It is necessary for the user to have read / write permission on serial devices. The installation guide provides <a href="../Building-with-meson-and-ninja/#accessing-the-serial-port">instructions</a>.</p>
<h2 id="ip-protocols-udp-and-tcp">IP protocols (UDP and TCP)<a class="headerlink" href="#ip-protocols-udp-and-tcp" title="Permanent link">#</a></h2>
<p>mwp uses a pseudo-URL format for TCP and UDP connections <code>udp://host:port</code> and <code>tcp://host:port</code> (where <code>host</code> is either a hostname or an IP address as required).</p>
<p>Typically on one side of the connection you'll provide a hostname /IP and on the other you won't (as it can get the peer address from the first data packet).</p>
<p>Assuming the required UDP port is 43210</p>
<p>if mwp is the "listener" (doesn't need, <em>a priori</em>, to know the address of peer), set the "Device" to:</p>
<pre><code>udp://:43210
</code></pre>
<p>i.e. the host part is empty.</p>
<p>If the remote device / application is the listener, and we know its IP address; in the following example "192.168.42.17", set the "Device" to:</p>
<pre><code>udp://192.168.42.17:43210
</code></pre>
<p>Note that for TCP, mwp only supports the latter form (it expects to be the TCP client).</p>
<h2 id="special-cases">Special Cases<a class="headerlink" href="#special-cases" title="Permanent link">#</a></h2>
<h3 id="udp-devices-required-defined-local-and-remote-port-numbers">UDP devices required defined local and remote port numbers<a class="headerlink" href="#udp-devices-required-defined-local-and-remote-port-numbers" title="Permanent link">#</a></h3>
<p>Some UDP devices (typically ESP8266 transparent serial) require that the port number is specified for both local and remote addresses; often the same port number at both ends. <code>udp://local_host:local_port/remote_host:remote_port</code> or <code>udp://remotehost:remote_port/?bind=port</code>. The following have the same effect.</p>
<pre><code>udp://:14014/esp-air:14014
# both sides use port 14014, remote (FC) is esp-air, blank local name is understood as INADDR_AN
udp://esp-air:14014/?bind=14014
</code></pre>
<h2 id="uri-conventions">URI Conventions<a class="headerlink" href="#uri-conventions" title="Permanent link">#</a></h2>
<p>The device definitions for TCP and UDP follow an explicit URI format. Device descriptions for "serial" devices have an implied URI format as well, e.g:</p>
<ul>
<li><code>bt:xx:xx:xx:xx:xx:xx</code></li>
<li><code>tty:/dev/ttyUSB0</code></li>
<li><code>tty:COM33</code></li>
</ul>
<p>The following URI "query" values are supported:</p>
<ul>
<li>
<p><code>baud=NNNN</code> (<code>NNNN</code> is a valid baud rate), examples:</p>
<pre><code>/dev/ttyUSB0?baud=9600
COM17?baud=9600
</code></pre>
</li>
<li>
<p><code>mavlink=N</code> (<code>N</code> is 1 or 2 for required Mavlink version). This causes mwp to send a Mavlink "beacon" (<code>HEARTBEAT</code>) which will improve the behaviours of some Mavlink based products (such as PicoADSB). It may also provoke some other (non-INAV) Mavlink based telemetry devices to geneate data. Examples:</p>
<pre><code>/dev/ttyUSB0?mavlink=2
udp://acme.org:12345?mavlink=1
</code></pre>
</li>
<li>
<p><code>bind=PORT</code> As discussed above for UDP.</p>
</li>
</ul>
<p>Note that values may be combined using standard URI syntax:</p>
<pre><code>tty:/dev/ttyuSB1?baud=57600&amp;mavlink=2
udp://mandy.fly.me:30001?bind=30001&amp;mavlink=2
</code></pre>
<h3 id="mqtt-bulletgcss">MQTT / BulletGCSS<a class="headerlink" href="#mqtt-bulletgcss" title="Permanent link">#</a></h3>
<p>See the <a href="../mqtt---bulletgcss-telemetry/">mwp's MQTT support</a> article for a detailed description of the URI format:</p>
<pre><code>mqtt://[user[:pass]@]broker[:port]/topic[?cafile=file]
</code></pre>
<h2 id="multi-protocol-selection">Multi Protocol selection<a class="headerlink" href="#multi-protocol-selection" title="Permanent link">#</a></h2>
<h3 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">#</a></h3>
<p>There is a protocol drop-down that allows the user to select the in-use serial protocol.
<img alt="dropdown0" src="../images/proto_dropdown-1.png" width="60%" /></p>
<p>Offering:</p>
<p><img alt="dropdown1" src="../images/proto_dropdown-0.png" width="40%" /></p>
<h3 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link">#</a></h3>
<table>
<thead>
<tr>
<th>Item</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td>Auto</td>
<td>Auto-detects the protocol from the serial data stream. Note that MPM cannot (yet) be auto-detected reliably, and must be explicitly selected).</td>
</tr>
<tr>
<td>INAV</td>
<td>INAV protocols, MSP, LTM and MAVLink. Legacy behaviours</td>
</tr>
<tr>
<td>S-Port</td>
<td>Smartport telemetry, previously required <code>--smartport</code> options. Expects a non-inverted stream</td>
</tr>
<tr>
<td>CRSF</td>
<td>Crossfire Telemetry.</td>
</tr>
<tr>
<td>MPM</td>
<td>Multi-Protocol-Module telemetry. The output from an EdgeTX / OpenTX radio with a multi-protocol module, FrSky Smartport or Flysky 'AA' via the EdgeTX / OpenTX "Telem Mirror" function. Prior to EdgeTX 2.7, this cannot be reliably auto-detected, and should be explicitly selected; with EdgeTX 2.7 and later, auto-detection is possible and reliable.</td>
</tr>
</tbody>
</table>
<h4 id="notes">Notes<a class="headerlink" href="#notes" title="Permanent link">#</a></h4>
<ul>
<li>For <a href="../mwp-Radar-View/">radar functions</a> (INAV-radar, ADSB), it is necessary to set the <code>--radar-device=</code> <a href="../running/#command-line-options">option</a>. Leave the protocol selector at 'Auto'.</li>
<li>For telemetry forwarding, it is necessary to set the <code>--forward-to=</code> <a href="../running/#command-line-options">option</a>. Leave the protocol selector at 'Auto'.</li>
<li>For FlySky MPM telemetry, the INAV CLI setting <code>set ibus_telemetry_type = 0</code> is required; any other <code>ibus_telemetry_type</code> value will not work.</li>
</ul>
<h4 id="auto-detection">Auto-detection<a class="headerlink" href="#auto-detection" title="Permanent link">#</a></h4>
<ul>
<li>INAV (MSP, LTM, MAVLink) auto-detection should be reliable (legacy function).</li>
<li>S-Port and CRSF may be less reliably detected.</li>
<li>MPM is hard to auto-detected. From EdgeTX 2.7, MPM auto-detection works reliably.</li>
<li>It is recommended that for S-Port, CRSF and MPM, the desired protocol is set explicitly (not left at "Auto").</li>
</ul>
<h2 id="telemetry-forwarding">Telemetry Forwarding<a class="headerlink" href="#telemetry-forwarding" title="Permanent link">#</a></h2>
<p><a href="https://github.com/stronnag/mwptools">mwp</a> can forward received telemetry protocol payloads according to a filter defined by two parameters:</p>
<ul>
<li>The CLI parameter <code>`--forward-to=&lt;device&gt;</code> where <code>&lt;device&gt;</code> represents the device node / name used for forwarding. <code>&lt;device&gt;</code> describes any supported mwp transport (serial, BT, UDP, TCP).</li>
<li>
<p>The setting <code>forward</code>:
  <div class="highlight"><pre><span></span><code>$ gsettings describe  org.stronnag.mwp forward
Types of message to forward (none, LTM, minLTM, minMAV, all, MSP1, MSP2, MAV1, MAV2)
</code></pre></div></p>
</li>
<li>
<p><code>none</code>: No forwarding (default)</p>
</li>
</ul>
<p>These settings have two distinct behaviours:</p>
<p>In addition to forwarding inbound MSP, LTM and MAVLink, as of mwp 25.07.28, it is possible to foward received CRSF as one of MSP, LTM and MAVLink</p>
<h3 id="forwarding-same-type-messages-msp-ltm-mavlink">Forwarding "same type" messages (MSP, LTM, MAVLink)<a class="headerlink" href="#forwarding-same-type-messages-msp-ltm-mavlink" title="Permanent link">#</a></h3>
<p>The following settings, apply to received telemetry of  the specified type. No message translation is done, and all data received will be regenerated and sent on to the <code>forward-device</code>.</p>
<ul>
<li><code>all</code>: Any <code>MSP</code>, <code>LTM</code> <code>MAVLink</code> , All received responses will be forwarded.</li>
<li><code>minLTM</code>: Minimal set of received <code>LTM</code> (typically for antenna trackers; <code>G</code>, <code>A</code> and <code>S</code> frames) will be forwarded.</li>
<li><code>minMAV</code>: Minimal set of <code>MAVLink</code> (typically for antenna trackers; <code>ID_HEARTBEAT</code>, <code>ID_SYS_STATUS</code>, <code>GPS_RAW_INT</code>, <code>ATTITUDE</code>) will be forwarded.</li>
</ul>
<h3 id="translated-capability-messages">Translated "capability" messages<a class="headerlink" href="#translated-capability-messages" title="Permanent link">#</a></h3>
<p>The following settings are "capability" based and may involve translation of a forwarded protocol into a different protocol. For example, a MSP <code>MSP_RAW_GPS</code> might be forwarded to a <code>LTM</code> consumer as LTM <code>G_FRAME</code> or to a MAVLink consumer as <code>MAVLINK_MSG_GPS_RAW_INT</code>.  As of mwp 25.07.28, this also allows CRSF to the translated and forwarded.</p>
<p>Messages are grouped into the following "capailities":</p>
<ul>
<li>GPS Position / velocity / status</li>
<li>Attitude</li>
<li>Status</li>
<li>Origin</li>
</ul>
<p>When a telemetry message via MSP, LTM or MAVlink is received that matches one of these categorisations, it is forwarded as best representing that capability in the consumer's message protocol:</p>
<ul>
<li><code>LTM</code> : Data is transposed to one or more LTM messages</li>
<li><code>MSP1</code> : Data is transposed to one or more MSPv1 messages</li>
<li><code>MSP2</code> : Data is transposed to one or more MSPv2 messages</li>
<li><code>MAV1</code> : Data is transposed to one or more MAVLink v1 messages</li>
<li><code>MAV2</code> : Data is transposed to one or more MAVLink v2 messages</li>
</ul>
<p>Caveat:</p>
<ul>
<li>The association between an incoming message, its "capability" and the appropriate outgoing message(s) is necessarily "fuzzy"; not all data in one message protocol can be represented in a different message protocol</li>
<li>Simple cases e.g. receiving MSPv2 and forwarding to an antenna or head tracker that uses a different protocol (<code>LTM</code>, <code>MSP1</code>, <code>MAV1</code>, <code>MAV2</code>) should be satisfactory, as a tracker doesn't require that much information.</li>
<li>Forwarding translated data to another GCS will most likely result in a degraded view on the consumer GCS.</li>
</ul>
<p>Other Notes:</p>
<ul>
<li>Prior to forwarding the message payload, mwp will have validated the message and processed it for its own purpose.</li>
<li>For MAVLink, by default, mwp uses a <code>sysid</code> of <code>106</code> (UTF8 <code>j</code>).</li>
<li>The MAVLink <code>sysid</code> may be changed with the setting <code>mavlink-sysid</code>, in the range 2-255 (see <a href="https://ardupilot.org/dev/docs/mavlink-basics.html#message-format">MAVlink documentation</a> and particularly the GCS guidance, 2nd paragraph <em>ibid</em>)</li>
</ul>
<p>e.g.</p>
<p><div class="highlight"><pre><span></span><code># setting
gsettings set org.stronnag.mwp forward minLTM
</code></pre></div>
<div class="highlight"><pre><span></span><code># in ~/.config/mwp/cmdopts
# forward over UDP
--forward-to=udp://udp-ant:30001
</code></pre></div></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2014 - 2025 <a href="https://github.com/stronnag/mwptools">Jonathan Hudson</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  </body>
</html>